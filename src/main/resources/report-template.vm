<!doctype html>
<html>
<head>
    <title>Migration Helper Spring Quarkus</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
</head>
<body>
    <h1>Report for project: $projectName</h1>
    <strong>Java version: $javaVersion. Quarkus minimum is Java 11</strong>

    <h2>General Issues (found: $generalIssuesListSize)</h2>
    #foreach($generalIssue in $generalIssues)
        <p>$generalIssue.description</p>
    #end

    <h2>Blacklisted Dependencies (found: $dependencyBlacklistSize)</h2>
    <table>
        <tr>
            <th>GroupId</th>
            <th>ArtifactId</th>
            <th>Version</th>
            <th>Occurrence in Java classes</th>
            <th>Description</th>
        </tr>
        #foreach($blacklistEntry in $dependencyBlacklist)
            <tr>
                <td>$blacklistEntry.groupId</td>
                <td>$blacklistEntry.artifactId</td>
                <td>$blacklistEntry.version</td>
                <td>$blacklistEntry.occurrenceInProjectClasses/$totalJavaClassesScanned</td>
                <td>$blacklistEntry.descriptionIfBlacklisted</td>
            </tr>
        #end
    </table>

    <h2>Reflection usage in project (found: $reflectionUsageInProjectListSize)</h2>
    <table>
        <tr>
            <th>Class</th>
            <th>Path</th>
        </tr>
        #foreach($reflectionUsage in $reflectionUsageInProjectList)
            <tr>
                <td>$reflectionUsage.className</td>
                <td>$reflectionUsage.path</td>
            </tr>
        #end
    </table>

    #if(!$withoutReflectionUsageOfDependencies)
        <h2>Reflection usage in dependencies as dependency tree (found: $reflectionUsageInDependenciesListSize)</h2>
        #foreach($branch in $dependencyTree)
            $branch
        #end
    #end

    <h2>Analysis Failures (found: $analysisFailuresListSize)</h2>
    <p>To ensure the stability of the execution of the analysis, exceptions are just collected and displayed below. For a more detailed failure analysis the use of the --verbose argument is recommended.</p>
    <table>
        <tr>
            <th>Name</th>
            <th>Description</th>
        </tr>
        #foreach($analysisFailure in $analysisFailuresList)
            <tr>
                <td>$analysisFailure.name</td>
                <td>$analysisFailure.description</td>
            </tr>
        #end
    </table>
</body>
</html>